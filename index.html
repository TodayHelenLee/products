<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ViewUI example</title>
    <link rel="stylesheet" type="text/css" href="http://unpkg.com/view-design/dist/styles/iview.css">
    <link rel="stylesheet" href="./pro.css">
    <script type="text/javascript" src="http://vuejs.org/js/vue.min.js"></script>
    <script type="text/javascript" src="http://unpkg.com/view-design/dist/iview.min.js"></script>
</head>
<body>
<div id="app"  >
    <div class="layout">
        <layout>
            <i-header>
                <i-menu mode="horizontal" theme="dark" active-name="1">
                    <div class="layout-logo"></div>
                    <div class="layout-nav">
                        <menu-item name="1"  @click.native="add1">
                            <icon type="ios-navigate"></icon>
                            最新消息
                        </menu-item>
                        <menu-item name="2"  @click.native="add2">
                            <icon type="ios-keypad"></icon>
                            產品型錄
                        </menu-item>
                        <menu-item name="3"  @click.native="add3">
                            <icon type="ios-analytics"></icon>
                            加入會員                            
                        </menu-item>
                    </div>
                </i-menu>
            </i-header>
            <i-content :style="{padding: '0 50px'}">
                <div v-if="lis[0]"><div class="top">最新消息</div>
                <carousel class="app" autoplay autoplay-speed="3000"  v-model="value2"loop>
                    <carousel-item >
                      
                        <div class="outWrap"><div  style="position:relative;" class="demo-carousel" ><div style="position:absolute; z-index:2; left:90px; top:10px"><h3>三本言情小說七折</h3></div>
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTeYmxbdOqzu7c_DAvKheseGdYZeTA9HyUu8A&usqp=CAU" alt="">
                            </div></div>
                        
                    </carousel-item>
            
                    <carousel-item>
                        <div class="outWrap"><div  style="position:relative;" class="demo-carousel" ><div style="position:absolute; z-index:2; left:90px; top:10px"><h3>你誆最新科幻著作</h3></div><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQQ0w6AYZ2pwgD96HRRqMhn2MqZ-Q6wI_CrjQ&usqp=CAU" alt="">
                            </div></div>
                        
                    </carousel-item>
                    <carousel-item>
                        <div class="outWrap"><div  style="position:relative;" class="demo-carousel" ><div style="position:absolute; z-index:2; left:90px; top:10px"><h3>日本暢銷電影原著</h3></div><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRC59eGLdxYAqJfe-dD8gdCmXrfszaRREHqtw&usqp=CAU" alt="">
                            </div></div>
                        
                    </carousel-item>
                    <carousel-item>
                        <div class="outWrap"><div  style="position:relative;" class="demo-carousel" ><div style="position:absolute; z-index:2; left:90px; top:10px"><h3>暢銷漫畫</h3></div><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQJre3QiASt40aoX2LIoBrXUS0yyYjC5jImhw&usqp=CAU">
                            </div></div>
                        
                    </carousel-item>
                </carousel>
                
              <i-table style="margin-top: 60px;" :columns="columns" :data="list"></i-table>
              <Page :total="total" :current="page" @on-change="changePage" ></Page></div>
                <div v-if="lis[1]"><div class="top">產品目錄<div class="inputs"><i-input v-model="filter" maxlength="200" search enter-button="Search" placeholder="Enter something..." /></div></div>
                <row type="flex" justify="center" style="background:#eee;padding:20px;">
                    <tools :names="p" v-for="p in filter_a"></tools>
                </row></div>
                <div v-if="lis[2]"><div class="top ">加入會員</div>
                <div class="left">
                    <h1>Login In</h1>
                    <h3>加入會員登入帳號後，始可享有專屬會員線上購物，修改帳號密碼，查詢購物清單。</h3>
                </div>
                <i-form class="right" ref="formValidate" :model="formValidate" :rules="ruleValidate" :label-width="80">
                    <form-item label="姓　　名" prop="name">
                        <i-input v-model="formValidate.name" placeholder="Enter your name"></i-input>
                    </form-item>
                    <form-item label="帳號email" prop="mail">
                        <i-input v-model="formValidate.mail" placeholder="Enter your e-mail"></i-input>
                    </form-item>
                    <form-item label="聯絡地址" prop="city">
                        <i-input v-model="formValidate.city" placeholder="Select your city">
                        </i-input>
                    </form-item>
                    <form-item label="出生日期">
                        <row>
                            <i-col span="11">
                                <form-item prop="date">
                                    <date-picker type="date" placeholder="Select date" v-model="formValidate.date"></date-picker>
                                </form-item>
                            </i-col>
                            
                        </row>
                    </form-item>
                    <form-item label="性　　別" prop="gender">
                        <radio-group v-model="formValidate.gender">
                            <radio label="male">Male</radio>
                            <radio label="female">Female</radio>
                        </radio-group>
                    </form-item>
                    <form-item label="聯絡電話" prop="phone">
                        <i-input v-model="formValidate.phone">
                        </i-input>
                    </form-item>
                    <form-item label="意見" prop="desc">
                        <i-input v-model="formValidate.desc" type="textarea" :autosize="{minRows: 2,maxRows: 5}" placeholder="Enter something..."></i-input>
                    </form-item>
                    <form-item>
                        <i-button type="primary" @click="handleSubmit('formValidate')">輸入</i-button>
                        <i-button @click="handleReset('formValidate')" style="margin-left: 8px">清除</i-button>
                    </form-item>
                </i-form>
                </div>
            </i-content>
            <i-footer class="layout-footer-center">2011-2016 &copy; TalkingData</i-footer>
        </layout>
    </div>
</div>
<script>
const data = []
const name = ['光化出版社','奇金文化','奇金文化','長頸兔文教機構','奇金文化','銅周刊','奇金文化','銅周刊','奇金文化','大大文化']
for (let i = 0; i < 20; i++) {
  data.push({
    id: i + 1,
    name: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eum maxime hic amet, sint modi assumenda atque necessitatibus nostrum esse blanditiis sed, a officiis harum minima, pariatur vero temporibus voluptatibus obcaecati.',
    member: name[i]
  })
}

function getPageList(p, size) {
  return data.slice((p - 1) * size, p * size)
}

const pageSize = 5



    new Vue({
        el: '#app',  
        mounted() {
            for (let i = 0; i < 20; i++) {
  data.push({
    id: i + 1,
    name: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eum maxime hic amet, sint modi assumenda atque necessitatibus nostrum esse blanditiis sed, a officiis harum minima, pariatur vero temporibus voluptatibus obcaecati.',
    member: name[i]
  })}

function getPageList(p, size) {
  return data.slice((p - 1) * size, p * size)
}

const pageSize = 5   
            for(var i =0;i<5;i++){
                this.a.push({title:this.title[i],dollar:i*2})
                
            }   
        


            
        },  
        computed:{
            data:[],
            name:['光化出版社','奇金文化','奇金文化','長頸兔文教機構','奇金文化','銅周刊','奇金文化','銅周刊','奇金文化','大大文化'],
            filter_a:function(){
                
                return  this.a.filter((p)=>{if(p.title.indexOf(this.filter)!=-1){return true}return false})
            }
        },    
        data: {
            value2:0,
            formValidate: {
                    name: '',
                    mail: '',
                    city: '',
                    gender: '',
                    phone: '',
                    date: '',
                    time: '',
                    desc: ''
                },
                ruleValidate: {
                    name: [
                        { required: true, message: '名字不能空白', trigger: 'blur' }
                    ],
                    mail: [
                        { required: true, message: '帳號不能空白', trigger: 'blur' },
                        { type: 'email', message: '帳號不能空白', trigger: 'blur' }
                    ],
                    city: [
                        { required: true, message: '請輸入地址', trigger: 'change' },
                        { required: true, message: '地址不能空白', trigger: 'blur' }
                    ],
                    gender: [
                        { required: true, message: '請輸入性別', trigger: 'change' },
                    ],
                    phone: [
                    { required: true, message: '電話不能空白', trigger: 'blur' }
                    ],
                    date: [
                        
                    ],
                    desc: [
                        { type: 'string', min: 20, message: '請輸入二十字以上敘述', trigger: 'blur' }
                    ]
                },
      total: data.length,
      page: 1,
      pageSize: pageSize,
      list: getPageList(1, pageSize),
      columns: [{
          title: '',
          key: 'id',
          width: 60
        },

        {
          title: '公告',
          key: 'name'
        },

        {
          title: '發布者',
          key: 'member'
        }
      ],
            lis:[0,0,0],
            filter:'',
            title:['西班牙歷史','魔界','氣象站','丹麥女孩','東周列國傳'],
            a:[],
            b:[1,2,3]
        },
        components:{
            tools:{template:`<i-col style="margin:20px" span="5" offset="1">
            <card >
                <p slot="title" style="font-size:20px">{{names.title}}</p>
                <p slot="extra" style="color:red">{{names.dollar}}$</p>
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRTkIvss8MTxPkZGZ3RJV7NYuH6g6r_iCRzjw&usqp=CAU" alt="">
            </card>
        </i-col> `,props:['names']}
        },
        methods: {
            handleSubmit (name) {
                this.$refs[name].validate((valid) => {
                    if (valid) {
                        this.$Message.success('註冊成功');
                    } else {
                        this.$Message.error('失敗');
                    }
                })
            },
            handleReset (name) {
                this.$refs[name].resetFields();
            },
    changePage(p) {
      this.page = p
      this.list = getPageList(p, pageSize)
    },
            add1(e){
                console.log(1)
                this.lis.splice(0,3,0,0,0)
                this.lis.splice(0,1,1)
            },
            add2(e){
                this.lis.splice(0,3,0,0,0)
                this.lis.splice(1,1,1)
            },
            add3(e){
                this.lis.splice(0,3,0,0,0)
                this.lis.splice(2,1,1)
            }
        },
    })
  </script>
</body>
</html>
